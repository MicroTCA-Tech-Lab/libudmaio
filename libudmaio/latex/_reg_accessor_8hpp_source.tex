\hypertarget{_reg_accessor_8hpp_source}{}\doxysection{Reg\+Accessor.\+hpp}
\label{_reg_accessor_8hpp_source}\index{RegAccessor.hpp@{RegAccessor.hpp}}
\mbox{\hyperlink{_reg_accessor_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{2 }
\DoxyCodeLine{3 \textcolor{preprocessor}{\#include <cstdint>}}
\DoxyCodeLine{4 }
\DoxyCodeLine{5 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_uio_if_base_8hpp}{udmaio/UioIfBase.hpp}}"{}}}
\DoxyCodeLine{6 }
\DoxyCodeLine{7 \textcolor{preprocessor}{\#ifndef REG\_PACKED\_ALIGNED}}
\DoxyCodeLine{8 \textcolor{preprocessor}{\#define REG\_PACKED\_ALIGNED \_\_attribute\_\_((packed, aligned(4)))}}
\DoxyCodeLine{9 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{10 }
\DoxyCodeLine{11 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespaceudmaio}{udmaio}} \{}
\DoxyCodeLine{12 }
\DoxyCodeLine{17 \textcolor{keyword}{template} <\textcolor{keyword}{typename} C>}
\DoxyCodeLine{18 \textcolor{keyword}{class }\mbox{\hyperlink{classudmaio_1_1_reg_accessor_base}{RegAccessorBase}} \{}
\DoxyCodeLine{19   \textcolor{keyword}{protected}:}
\DoxyCodeLine{20     \mbox{\hyperlink{classudmaio_1_1_uio_if_base}{UioIfBase}}* \mbox{\hyperlink{classudmaio_1_1_reg_accessor_base_a07d7176c3c2344ed7f18d9c53c5f558b}{\_if}};}
\DoxyCodeLine{21 }
\DoxyCodeLine{27     C \mbox{\hyperlink{classudmaio_1_1_reg_accessor_base_ac48b43f437837cd965706d4c7626b2b9}{\_rd}}(uint32\_t offs)\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classudmaio_1_1_reg_accessor_base_a07d7176c3c2344ed7f18d9c53c5f558b}{\_if}}-\/>template \_rd\_reg<C>(offs); \}}
\DoxyCodeLine{28 }
\DoxyCodeLine{34     \textcolor{keywordtype}{void} \mbox{\hyperlink{classudmaio_1_1_reg_accessor_base_a7107c7f25cb16b638ae56903c7803837}{\_wr}}(uint32\_t offs, \textcolor{keyword}{const} C\& value) \{ \mbox{\hyperlink{classudmaio_1_1_reg_accessor_base_a07d7176c3c2344ed7f18d9c53c5f558b}{\_if}}-\/>template \_wr\_reg<C>(offs, value); \}}
\DoxyCodeLine{35 }
\DoxyCodeLine{36   \textcolor{keyword}{public}:}
\DoxyCodeLine{37     \textcolor{keyword}{using }\mbox{\hyperlink{classudmaio_1_1_uio_if_base}{constructor\_arg\_type}} = \mbox{\hyperlink{classudmaio_1_1_uio_if_base}{UioIfBase}}*;}
\DoxyCodeLine{38 }
\DoxyCodeLine{39     \mbox{\hyperlink{classudmaio_1_1_reg_accessor_base_ad878857665ec6cb11fb5133240a23e65}{RegAccessorBase}}() = \textcolor{keyword}{delete};}
\DoxyCodeLine{40 }
\DoxyCodeLine{45     \mbox{\hyperlink{classudmaio_1_1_reg_accessor_base_a7298226a53b233dd99ca2dec3e41d109}{RegAccessorBase}}(\mbox{\hyperlink{classudmaio_1_1_uio_if_base}{constructor\_arg\_type}} interface) : \mbox{\hyperlink{classudmaio_1_1_reg_accessor_base_a07d7176c3c2344ed7f18d9c53c5f558b}{\_if}}\{interface\} \{\}}
\DoxyCodeLine{46 \};}
\DoxyCodeLine{47 }
\DoxyCodeLine{52 \textcolor{keyword}{template} <\textcolor{keyword}{typename} C>}
\DoxyCodeLine{53 \textcolor{keyword}{class }\mbox{\hyperlink{classudmaio_1_1_reg_accessor_array_element}{RegAccessorArrayElement}} : \textcolor{keyword}{public} \mbox{\hyperlink{classudmaio_1_1_reg_accessor_base}{RegAccessorBase}}<C> \{}
\DoxyCodeLine{54     \textcolor{keyword}{const} uint32\_t \mbox{\hyperlink{classudmaio_1_1_reg_accessor_array_element_a03956a268d070b2be79f9c1dd4173ce5}{\_reg\_offs}};}
\DoxyCodeLine{55 }
\DoxyCodeLine{56   \textcolor{keyword}{public}:}
\DoxyCodeLine{62     \mbox{\hyperlink{classudmaio_1_1_reg_accessor_array_element_aaa4e2dac359c1b0ed94316ca5a24727b}{RegAccessorArrayElement}}(\textcolor{keyword}{typename} \mbox{\hyperlink{classudmaio_1_1_uio_if_base}{RegAccessorBase<C>::constructor\_arg\_type}} c, uint32\_t reg\_offs)}
\DoxyCodeLine{63         : \mbox{\hyperlink{classudmaio_1_1_reg_accessor_base}{RegAccessorBase}}<C>\{c\}, \mbox{\hyperlink{classudmaio_1_1_reg_accessor_array_element_a03956a268d070b2be79f9c1dd4173ce5}{\_reg\_offs}}\{reg\_offs\} \{\}}
\DoxyCodeLine{64 }
\DoxyCodeLine{69     C \mbox{\hyperlink{classudmaio_1_1_reg_accessor_array_element_ae54bc577dd3b1006870b046116278d96}{rd}}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classudmaio_1_1_reg_accessor_base_ac48b43f437837cd965706d4c7626b2b9}{RegAccessorBase<C>::\_rd}}(\mbox{\hyperlink{classudmaio_1_1_reg_accessor_array_element_a03956a268d070b2be79f9c1dd4173ce5}{\_reg\_offs}}); \}}
\DoxyCodeLine{70 }
\DoxyCodeLine{75     \textcolor{keywordtype}{void} \mbox{\hyperlink{classudmaio_1_1_reg_accessor_array_element_adab9bc37d421d67e94015a8a5f0ee9d3}{wr}}(\textcolor{keyword}{const} C\& value) \{ \mbox{\hyperlink{classudmaio_1_1_reg_accessor_base_a7107c7f25cb16b638ae56903c7803837}{RegAccessorBase<C>::\_wr}}(\mbox{\hyperlink{classudmaio_1_1_reg_accessor_array_element_a03956a268d070b2be79f9c1dd4173ce5}{\_reg\_offs}}, value); \}}
\DoxyCodeLine{76 \};}
\DoxyCodeLine{77 }
\DoxyCodeLine{85 \textcolor{keyword}{template} <\textcolor{keyword}{typename} C, u\textcolor{keywordtype}{int}32\_t offset, u\textcolor{keywordtype}{int}32\_t arr\_size, u\textcolor{keywordtype}{int}32\_t arr\_str\textcolor{keywordtype}{id}e>}
\DoxyCodeLine{86 \textcolor{keyword}{class }\mbox{\hyperlink{classudmaio_1_1_reg_accessor_array}{RegAccessorArray}} : \textcolor{keyword}{public} \mbox{\hyperlink{classudmaio_1_1_reg_accessor_base}{RegAccessorBase}}<C> \{}
\DoxyCodeLine{87     \textcolor{keyword}{static\_assert}(arr\_size > 0, \textcolor{stringliteral}{"{}Register array size must be non-\/zero"{}});}
\DoxyCodeLine{88 }
\DoxyCodeLine{89   \textcolor{keyword}{public}:}
\DoxyCodeLine{90     \textcolor{keyword}{using }\mbox{\hyperlink{classudmaio_1_1_reg_accessor_base}{RegAccessorBase}}<C>\mbox{\hyperlink{classudmaio_1_1_reg_accessor_base_ad878857665ec6cb11fb5133240a23e65}{::RegAccessorBase}};}
\DoxyCodeLine{91 }
\DoxyCodeLine{97     \mbox{\hyperlink{classudmaio_1_1_reg_accessor_array_element}{RegAccessorArrayElement<C>}} \mbox{\hyperlink{classudmaio_1_1_reg_accessor_array_a4b8a2afd9ba4baefa3f4e218bc0dc020}{operator[]}}(uint32\_t idx) \{}
\DoxyCodeLine{98         assert(idx < arr\_size);}
\DoxyCodeLine{99         \textcolor{keyword}{const} uint32\_t reg\_offs = offset + idx * arr\_stride;}
\DoxyCodeLine{100         \textcolor{keywordflow}{return} \mbox{\hyperlink{classudmaio_1_1_reg_accessor_array_element}{RegAccessorArrayElement<C>}}\{\mbox{\hyperlink{classudmaio_1_1_reg_accessor_base}{RegAccessorBase<C>::\_if}}, reg\_offs\};}
\DoxyCodeLine{101     \}}
\DoxyCodeLine{102 }
\DoxyCodeLine{107     \textcolor{keyword}{constexpr} uint32\_t \mbox{\hyperlink{classudmaio_1_1_reg_accessor_array_a488582212ef79d90b08842feb6ec876b}{size}}() \{ \textcolor{keywordflow}{return} arr\_size; \}}
\DoxyCodeLine{108 \};}
\DoxyCodeLine{109 }
\DoxyCodeLine{115 \textcolor{keyword}{template} <\textcolor{keyword}{typename} C, u\textcolor{keywordtype}{int}32\_t offset>}
\DoxyCodeLine{116 \textcolor{keyword}{class }\mbox{\hyperlink{classudmaio_1_1_reg_accessor_array}{RegAccessorArray}}<C, offset, 0, 0> : \textcolor{keyword}{public} \mbox{\hyperlink{classudmaio_1_1_reg_accessor_base}{RegAccessorBase}}<C> \{}
\DoxyCodeLine{117   \textcolor{keyword}{public}:}
\DoxyCodeLine{118     \textcolor{keyword}{using }\mbox{\hyperlink{classudmaio_1_1_reg_accessor_base}{RegAccessorBase}}<C>\mbox{\hyperlink{classudmaio_1_1_reg_accessor_base_ad878857665ec6cb11fb5133240a23e65}{::RegAccessorBase}};}
\DoxyCodeLine{119 }
\DoxyCodeLine{124     C \mbox{\hyperlink{classudmaio_1_1_reg_accessor_array_3_01_c_00_01offset_00_010_00_010_01_4_ab7a42dc9e810b80b4ed294730414ec11}{rd}}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classudmaio_1_1_reg_accessor_base_ac48b43f437837cd965706d4c7626b2b9}{RegAccessorBase<C>::\_rd}}(offset); \}}
\DoxyCodeLine{125 }
\DoxyCodeLine{130     \textcolor{keywordtype}{void} \mbox{\hyperlink{classudmaio_1_1_reg_accessor_array_3_01_c_00_01offset_00_010_00_010_01_4_a39bd8f92c5a373086119460ccde63746}{wr}}(\textcolor{keyword}{const} C\& value) \{ \mbox{\hyperlink{classudmaio_1_1_reg_accessor_base_a7107c7f25cb16b638ae56903c7803837}{RegAccessorBase<C>::\_wr}}(offset, value); \}}
\DoxyCodeLine{131 \};}
\DoxyCodeLine{132 }
\DoxyCodeLine{138 \textcolor{keyword}{template} <\textcolor{keyword}{typename} C, u\textcolor{keywordtype}{int}32\_t offset>}
\DoxyCodeLine{139 \textcolor{keyword}{using }\mbox{\hyperlink{classudmaio_1_1_reg_accessor_array_3_01_c_00_01offset_00_010_00_010_01_4}{RegAccessor}} = \mbox{\hyperlink{classudmaio_1_1_reg_accessor_array}{RegAccessorArray<C, offset, 0, 0>}};}
\DoxyCodeLine{140 }
\DoxyCodeLine{148 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{149 std::string \mbox{\hyperlink{namespaceudmaio_a5c03c63d910348e26da90a894fc7242e}{field\_to\_str}}(\textcolor{keyword}{const} T\& chararray) \{}
\DoxyCodeLine{150     \textcolor{keywordflow}{return} \{chararray, strnlen(chararray, \textcolor{keyword}{sizeof}(chararray))\};}
\DoxyCodeLine{151 \}}
\DoxyCodeLine{152 }
\DoxyCodeLine{153 \}  \textcolor{comment}{// namespace udmaio}}

\end{DoxyCode}
