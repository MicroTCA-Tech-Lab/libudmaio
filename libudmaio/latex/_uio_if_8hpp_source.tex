\hypertarget{_uio_if_8hpp_source}{}\doxysection{Uio\+If.\+hpp}
\label{_uio_if_8hpp_source}\index{UioIf.hpp@{UioIf.hpp}}
\mbox{\hyperlink{_uio_if_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\///}}
\DoxyCodeLine{2 \textcolor{comment}{//        \_\_\_\_  \_\_\_\_\_\_\_\_\_\_\_\_\_  \_\_    \_\_  \_\_ \_           \_\_\_\_\_ \_\_\_   \_        //}}
\DoxyCodeLine{3 \textcolor{comment}{//       / \_\_ \(\backslash\)/ \_\_\_\_/ \_\_\_/\(\backslash\) \(\backslash\)/ /   |  \(\backslash\)/  (\_)\_\_ \_ \_ \_\_|\_   \_/ \_\_| /\_\(\backslash\)       //}}
\DoxyCodeLine{4 \textcolor{comment}{//      / / / / \_\_/  \(\backslash\)\_\_ \(\backslash\)  \(\backslash\)  /    | |\(\backslash\)/| | / \_| '\_/ \_ \(\backslash\)| || (\_\_ / \_ \(\backslash\)      //}}
\DoxyCodeLine{5 \textcolor{comment}{//     / /\_/ / /\_\_\_ \_\_\_/ /  / /     |\_|  |\_|\_\(\backslash\)\_\_|\_| \(\backslash\)\_\_\_/|\_| \(\backslash\)\_\_\_/\_/ \(\backslash\)\_\(\backslash\)     //}}
\DoxyCodeLine{6 \textcolor{comment}{//    /\_\_\_\_\_/\_\_\_\_\_//\_\_\_\_/  /\_/      T  E  C  H  N  O  L  O  G  Y   L A B     //}}
\DoxyCodeLine{7 \textcolor{comment}{//                                                                           //}}
\DoxyCodeLine{8 \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\///}}
\DoxyCodeLine{9 }
\DoxyCodeLine{10 \textcolor{comment}{// Copyright (c) 2021 Deutsches Elektronen-\/Synchrotron DESY}}
\DoxyCodeLine{11 }
\DoxyCodeLine{12 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{13 }
\DoxyCodeLine{14 \textcolor{preprocessor}{\#include <filesystem>}}
\DoxyCodeLine{15 \textcolor{preprocessor}{\#include <fstream>}}
\DoxyCodeLine{16 \textcolor{preprocessor}{\#include <iostream>}}
\DoxyCodeLine{17 \textcolor{preprocessor}{\#include <memory>}}
\DoxyCodeLine{18 \textcolor{preprocessor}{\#include <string>}}
\DoxyCodeLine{19 }
\DoxyCodeLine{20 \textcolor{preprocessor}{\#include <boost/core/noncopyable.hpp>}}
\DoxyCodeLine{21 \textcolor{preprocessor}{\#include <fcntl.h>}}
\DoxyCodeLine{22 \textcolor{preprocessor}{\#include <sys/mman.h>}}
\DoxyCodeLine{23 \textcolor{preprocessor}{\#include <sys/stat.h>}}
\DoxyCodeLine{24 \textcolor{preprocessor}{\#include <sys/types.h>}}
\DoxyCodeLine{25 \textcolor{preprocessor}{\#include <unistd.h>}}
\DoxyCodeLine{26 }
\DoxyCodeLine{27 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_hw_accessor_8hpp}{udmaio/HwAccessor.hpp}}"{}}}
\DoxyCodeLine{28 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_logging_8hpp}{udmaio/Logging.hpp}}"{}}}
\DoxyCodeLine{29 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_uio_config_8hpp}{udmaio/UioConfig.hpp}}"{}}}
\DoxyCodeLine{30 }
\DoxyCodeLine{31 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespaceudmaio}{udmaio}} \{}
\DoxyCodeLine{32 }
\DoxyCodeLine{34 \textcolor{keyword}{class }\mbox{\hyperlink{classudmaio_1_1_uio_if}{UioIf}} : \textcolor{keyword}{private} boost::noncopyable \{}
\DoxyCodeLine{35     \textcolor{keyword}{template} <\textcolor{keyword}{typename} C>}
\DoxyCodeLine{36     \textcolor{keyword}{friend} \textcolor{keyword}{class }\mbox{\hyperlink{classudmaio_1_1_reg_accessor_base}{RegAccessorBase}};}
\DoxyCodeLine{37 }
\DoxyCodeLine{38   \textcolor{keyword}{public}:}
\DoxyCodeLine{39     \mbox{\hyperlink{classudmaio_1_1_uio_if}{UioIf}}(std::string name, \mbox{\hyperlink{namespaceudmaio_aa5fc64c7a76c962d8e65553ebbefb92d}{HwAccessorPtr}} hw);}
\DoxyCodeLine{40 }
\DoxyCodeLine{41     \textcolor{keyword}{virtual} \mbox{\hyperlink{classudmaio_1_1_uio_if_abecdae6ece38df3bdd0a1797787a2487}{\string~UioIf}}();}
\DoxyCodeLine{42 }
\DoxyCodeLine{45     \textcolor{keywordtype}{int} \mbox{\hyperlink{classudmaio_1_1_uio_if_a2eaafeb3146b24ee7ef1e9978a9482cf}{get\_fd\_int}}() \textcolor{keyword}{const};}
\DoxyCodeLine{46 }
\DoxyCodeLine{47     \textcolor{keywordtype}{void} \mbox{\hyperlink{classudmaio_1_1_uio_if_ae46944a87f194f48d10157becb5624f1}{enable\_debug}}(\textcolor{keywordtype}{bool} enable);}
\DoxyCodeLine{48 }
\DoxyCodeLine{49   \textcolor{keyword}{protected}:}
\DoxyCodeLine{50     std::unique\_ptr<HwAccessor> \mbox{\hyperlink{classudmaio_1_1_uio_if_a30f469bfd2aadc90b0af23405365c9d6}{\_hw}};}
\DoxyCodeLine{51     \mbox{\hyperlink{namespaceudmaio_a03d59114e0370739fb2989fedeed3ffc}{boost\_logger}}\& \mbox{\hyperlink{classudmaio_1_1_uio_if_a61bd7bbfdf570dabd2077c9af2cddf3f}{\_lg}};}
\DoxyCodeLine{52 }
\DoxyCodeLine{53     \textcolor{keyword}{template} <\textcolor{keyword}{typename} C, \textcolor{keyword}{typename} = std::enable\_if\_t<(sizeof(C) == 4)>>}
\DoxyCodeLine{54     \textcolor{keyword}{static} uint32\_t \mbox{\hyperlink{classudmaio_1_1_uio_if_a4f047f030c4363d46877dddf3d93478f}{reg\_to\_raw}}(C data) \{}
\DoxyCodeLine{55         \textcolor{keywordflow}{return} *\textcolor{keyword}{reinterpret\_cast<}uint32\_t*\textcolor{keyword}{>}(\&data);}
\DoxyCodeLine{56     \}}
\DoxyCodeLine{57 }
\DoxyCodeLine{58     \textcolor{keyword}{template} <\textcolor{keyword}{typename} C, \textcolor{keyword}{typename} = std::enable\_if\_t<(sizeof(C) == 8)>>}
\DoxyCodeLine{59     \textcolor{keyword}{static} uint64\_t \mbox{\hyperlink{classudmaio_1_1_uio_if_a3b1e22f2824346e4b87fbf884de554eb}{reg\_to\_raw}}(C data) \{}
\DoxyCodeLine{60         \textcolor{keywordflow}{return} *\textcolor{keyword}{reinterpret\_cast<}uint64\_t*\textcolor{keyword}{>}(\&data);}
\DoxyCodeLine{61     \}}
\DoxyCodeLine{62 }
\DoxyCodeLine{63     \textcolor{keyword}{inline} uint32\_t \mbox{\hyperlink{classudmaio_1_1_uio_if_a9a7d60c6438b2d90e204bb5a456ed755}{\_rd32}}(uint32\_t offs)\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classudmaio_1_1_uio_if_a30f469bfd2aadc90b0af23405365c9d6}{\_hw}}-\/>\_rd32(offs); \}}
\DoxyCodeLine{64     \textcolor{keyword}{inline} uint64\_t \mbox{\hyperlink{classudmaio_1_1_uio_if_a9a0b7afd8ae6ca5e4a332e6a43b64ebb}{\_rd64}}(uint32\_t offs)\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classudmaio_1_1_uio_if_a30f469bfd2aadc90b0af23405365c9d6}{\_hw}}-\/>\_rd64(offs); \}}
\DoxyCodeLine{65     \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{classudmaio_1_1_uio_if_a493e161ddcaa28c256f075f45e687391}{\_wr32}}(uint32\_t offs, uint32\_t data) \{ \mbox{\hyperlink{classudmaio_1_1_uio_if_a30f469bfd2aadc90b0af23405365c9d6}{\_hw}}-\/>\_wr32(offs, data); \}}
\DoxyCodeLine{66     \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{classudmaio_1_1_uio_if_a0287ff2c15a31b97b78c57e4eeb802e8}{\_wr64}}(uint32\_t offs, uint64\_t data) \{ \mbox{\hyperlink{classudmaio_1_1_uio_if_a30f469bfd2aadc90b0af23405365c9d6}{\_hw}}-\/>\_wr64(offs, data); \}}
\DoxyCodeLine{67 }
\DoxyCodeLine{68     \textcolor{keyword}{template} <\textcolor{keyword}{typename} C>}
\DoxyCodeLine{69     C \mbox{\hyperlink{classudmaio_1_1_uio_if_a4cbf37ba60ea1ecf70034eeb7e953494}{\_rd\_reg}}(uint32\_t offs)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{70         \textcolor{keywordflow}{return} \mbox{\hyperlink{classudmaio_1_1_uio_if_a30f469bfd2aadc90b0af23405365c9d6}{\_hw}}-\/>template \_rd\_reg<C>(offs);}
\DoxyCodeLine{71     \}}
\DoxyCodeLine{72 }
\DoxyCodeLine{73     \textcolor{keyword}{template} <\textcolor{keyword}{typename} C>}
\DoxyCodeLine{74     \textcolor{keywordtype}{void} \mbox{\hyperlink{classudmaio_1_1_uio_if_aa8ff2dcd394a824dab2a04e2aa275094}{\_wr\_reg}}(uint32\_t offs, \textcolor{keyword}{const} C\& value) \{}
\DoxyCodeLine{75         \mbox{\hyperlink{classudmaio_1_1_uio_if_a30f469bfd2aadc90b0af23405365c9d6}{\_hw}}-\/>template \_wr\_reg<C>(offs, value);}
\DoxyCodeLine{76     \}}
\DoxyCodeLine{77 }
\DoxyCodeLine{78     \textcolor{keywordtype}{void} \mbox{\hyperlink{classudmaio_1_1_uio_if_a6756aeb5ca3c013d0c4be22e3d573963}{arm\_interrupt}}();}
\DoxyCodeLine{79     uint32\_t \mbox{\hyperlink{classudmaio_1_1_uio_if_a7035fb19bfd190fe5b482d27cc528b0a}{wait\_for\_interrupt}}();}
\DoxyCodeLine{80 \};}
\DoxyCodeLine{81 }
\DoxyCodeLine{82 \}  \textcolor{comment}{// namespace udmaio}}

\end{DoxyCode}
