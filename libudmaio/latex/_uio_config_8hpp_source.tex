\hypertarget{_uio_config_8hpp_source}{}\doxysection{Uio\+Config.\+hpp}
\label{_uio_config_8hpp_source}\index{UioConfig.hpp@{UioConfig.hpp}}
\mbox{\hyperlink{_uio_config_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\///}}
\DoxyCodeLine{2 \textcolor{comment}{//        \_\_\_\_  \_\_\_\_\_\_\_\_\_\_\_\_\_  \_\_    \_\_  \_\_ \_           \_\_\_\_\_ \_\_\_   \_        //}}
\DoxyCodeLine{3 \textcolor{comment}{//       / \_\_ \(\backslash\)/ \_\_\_\_/ \_\_\_/\(\backslash\) \(\backslash\)/ /   |  \(\backslash\)/  (\_)\_\_ \_ \_ \_\_|\_   \_/ \_\_| /\_\(\backslash\)       //}}
\DoxyCodeLine{4 \textcolor{comment}{//      / / / / \_\_/  \(\backslash\)\_\_ \(\backslash\)  \(\backslash\)  /    | |\(\backslash\)/| | / \_| '\_/ \_ \(\backslash\)| || (\_\_ / \_ \(\backslash\)      //}}
\DoxyCodeLine{5 \textcolor{comment}{//     / /\_/ / /\_\_\_ \_\_\_/ /  / /     |\_|  |\_|\_\(\backslash\)\_\_|\_| \(\backslash\)\_\_\_/|\_| \(\backslash\)\_\_\_/\_/ \(\backslash\)\_\(\backslash\)     //}}
\DoxyCodeLine{6 \textcolor{comment}{//    /\_\_\_\_\_/\_\_\_\_\_//\_\_\_\_/  /\_/      T  E  C  H  N  O  L  O  G  Y   L A B     //}}
\DoxyCodeLine{7 \textcolor{comment}{//                                                                           //}}
\DoxyCodeLine{8 \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\///}}
\DoxyCodeLine{9 }
\DoxyCodeLine{10 \textcolor{comment}{// Copyright (c) 2021 Deutsches Elektronen-\/Synchrotron DESY}}
\DoxyCodeLine{11 }
\DoxyCodeLine{12 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{13 }
\DoxyCodeLine{14 \textcolor{preprocessor}{\#include <iostream>}}
\DoxyCodeLine{15 \textcolor{preprocessor}{\#include <memory>}}
\DoxyCodeLine{16 \textcolor{preprocessor}{\#include <stdexcept>}}
\DoxyCodeLine{17 \textcolor{preprocessor}{\#include <string>}}
\DoxyCodeLine{18 \textcolor{preprocessor}{\#include <string\_view>}}
\DoxyCodeLine{19 }
\DoxyCodeLine{20 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespaceudmaio}{udmaio}} \{}
\DoxyCodeLine{21 }
\DoxyCodeLine{23 \textcolor{keyword}{enum class} \mbox{\hyperlink{namespaceudmaio_a6b5d6a27d182272b899d28e1a7080cec}{DmaMode}} \{}
\DoxyCodeLine{24     \mbox{\hyperlink{namespaceudmaio_a6b5d6a27d182272b899d28e1a7080cecaf3dac949aa62d490afa1ac577a5fc028}{XDMA}},  }
\DoxyCodeLine{25     \mbox{\hyperlink{namespaceudmaio_a6b5d6a27d182272b899d28e1a7080ceca910a3bb55574645cc3d46b715f097eb0}{UIO}}    }
\DoxyCodeLine{26 \};}
\DoxyCodeLine{27 }
\DoxyCodeLine{28 std::istream\& \mbox{\hyperlink{namespaceudmaio_adcde5ee0e86bf537b18e3d7588443fc5}{operator>>}}(std::istream\& in, \mbox{\hyperlink{namespaceudmaio_a6b5d6a27d182272b899d28e1a7080cec}{DmaMode}}\& mode);}
\DoxyCodeLine{29 }
\DoxyCodeLine{31 \textcolor{keyword}{struct }\mbox{\hyperlink{structudmaio_1_1_uio_region}{UioRegion}} \{}
\DoxyCodeLine{32     uintptr\_t \mbox{\hyperlink{structudmaio_1_1_uio_region_aeae3c222eaf007b2850693dfdfd3af9c}{addr}};  }
\DoxyCodeLine{33     \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{structudmaio_1_1_uio_region_ac820f3588c55f13155345aae9e198a32}{size}};     }
\DoxyCodeLine{34 \};}
\DoxyCodeLine{35 }
\DoxyCodeLine{36 \textcolor{keyword}{class }\mbox{\hyperlink{classudmaio_1_1_uio_device_location}{UioDeviceLocation}};}
\DoxyCodeLine{37 }
\DoxyCodeLine{39 \textcolor{keyword}{struct }\mbox{\hyperlink{structudmaio_1_1_uio_device_info}{UioDeviceInfo}} \{}
\DoxyCodeLine{40     std::string \mbox{\hyperlink{structudmaio_1_1_uio_device_info_aacdc0c53739791ff68be0e1162e2bd43}{dev\_path}};}
\DoxyCodeLine{41     std::string \mbox{\hyperlink{structudmaio_1_1_uio_device_info_abed8de91f11d32684aa906e6aaec1c31}{evt\_path}};}
\DoxyCodeLine{42     \mbox{\hyperlink{structudmaio_1_1_uio_region}{UioRegion}} \mbox{\hyperlink{structudmaio_1_1_uio_device_info_a093747ff1f89ca9924969c11903e2d7d}{region}};}
\DoxyCodeLine{43     uintptr\_t \mbox{\hyperlink{structudmaio_1_1_uio_device_info_a0a207d3b2a1a958a2ca43f1056b77cbd}{mmap\_offs}};}
\DoxyCodeLine{44     \textcolor{keywordtype}{bool} \mbox{\hyperlink{structudmaio_1_1_uio_device_info_a41a7f3189cffed62f054518f9ed3cedd}{force\_32bit}};}
\DoxyCodeLine{45 }
\DoxyCodeLine{46     \mbox{\hyperlink{structudmaio_1_1_uio_device_info}{UioDeviceInfo}}(std::string \mbox{\hyperlink{structudmaio_1_1_uio_device_info_aacdc0c53739791ff68be0e1162e2bd43}{dev\_path}},}
\DoxyCodeLine{47                   std::string \mbox{\hyperlink{structudmaio_1_1_uio_device_info_abed8de91f11d32684aa906e6aaec1c31}{evt\_path}},}
\DoxyCodeLine{48                   \mbox{\hyperlink{structudmaio_1_1_uio_region}{UioRegion}} \mbox{\hyperlink{structudmaio_1_1_uio_device_info_a093747ff1f89ca9924969c11903e2d7d}{region}},}
\DoxyCodeLine{49                   uintptr\_t \mbox{\hyperlink{structudmaio_1_1_uio_device_info_a0a207d3b2a1a958a2ca43f1056b77cbd}{mmap\_offs}},}
\DoxyCodeLine{50                   \textcolor{keywordtype}{bool} \mbox{\hyperlink{structudmaio_1_1_uio_device_info_a41a7f3189cffed62f054518f9ed3cedd}{force\_32bit}} = \textcolor{keyword}{false});}
\DoxyCodeLine{51     \mbox{\hyperlink{structudmaio_1_1_uio_device_info}{UioDeviceInfo}}(\mbox{\hyperlink{classudmaio_1_1_uio_device_location}{UioDeviceLocation}} dev\_loc);}
\DoxyCodeLine{52 \};}
\DoxyCodeLine{53 }
\DoxyCodeLine{54 \textcolor{keyword}{class }\mbox{\hyperlink{classudmaio_1_1_uio_config_base}{UioConfigBase}};}
\DoxyCodeLine{55 }
\DoxyCodeLine{57 \textcolor{keyword}{class }\mbox{\hyperlink{classudmaio_1_1_uio_device_location}{UioDeviceLocation}} \{}
\DoxyCodeLine{58     \textcolor{keyword}{friend} \textcolor{keyword}{class }\mbox{\hyperlink{classudmaio_1_1_uio_config_xdma}{UioConfigXdma}};}
\DoxyCodeLine{59 }
\DoxyCodeLine{60     \textcolor{keyword}{static} std::unique\_ptr<UioConfigBase> \mbox{\hyperlink{classudmaio_1_1_uio_device_location_ae572549b49ffaaed58353abd077d5d13}{\_link\_cfg}};}
\DoxyCodeLine{61 }
\DoxyCodeLine{62   \textcolor{keyword}{public}:}
\DoxyCodeLine{63     \mbox{\hyperlink{classudmaio_1_1_uio_device_location_a54abcabef821b45fc19a628677d56ba2}{UioDeviceLocation}}(std::string uioname, \mbox{\hyperlink{structudmaio_1_1_uio_region}{UioRegion}} xdmaregion, std::string xdmaevtdev = \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{64         : \mbox{\hyperlink{classudmaio_1_1_uio_device_location_a57f31399f8dc8274d4ef7cb4221bc275}{uio\_name}}(uioname), \mbox{\hyperlink{classudmaio_1_1_uio_device_location_a43dc7b04e1a9e9b21808e1a437f6c90a}{xdma\_region}}(xdmaregion), \mbox{\hyperlink{classudmaio_1_1_uio_device_location_af5b3ea783511afd64e435bb404636483}{xdma\_evt\_dev}}(xdmaevtdev)\{\};}
\DoxyCodeLine{66     std::string \mbox{\hyperlink{classudmaio_1_1_uio_device_location_a57f31399f8dc8274d4ef7cb4221bc275}{uio\_name}};}
\DoxyCodeLine{68     \mbox{\hyperlink{structudmaio_1_1_uio_region}{UioRegion}} \mbox{\hyperlink{classudmaio_1_1_uio_device_location_a43dc7b04e1a9e9b21808e1a437f6c90a}{xdma\_region}};}
\DoxyCodeLine{70     std::string \mbox{\hyperlink{classudmaio_1_1_uio_device_location_af5b3ea783511afd64e435bb404636483}{xdma\_evt\_dev}};}
\DoxyCodeLine{71 }
\DoxyCodeLine{73     \textcolor{keyword}{static} \textcolor{keywordtype}{void} \mbox{\hyperlink{classudmaio_1_1_uio_device_location_a9430b369366399bd9b550a7595710902}{set\_link\_axi}}();}
\DoxyCodeLine{74 }
\DoxyCodeLine{79     \textcolor{keyword}{static} \textcolor{keywordtype}{void} \mbox{\hyperlink{classudmaio_1_1_uio_device_location_ad781d7b7e6ba14d95adf0741e19e5625}{set\_link\_xdma}}(std::string xdma\_path, uintptr\_t pcie\_offs, \textcolor{keywordtype}{bool} x7\_series\_mode);}
\DoxyCodeLine{80 }
\DoxyCodeLine{81     \mbox{\hyperlink{structudmaio_1_1_uio_device_info}{UioDeviceInfo}} \mbox{\hyperlink{classudmaio_1_1_uio_device_location_a2a6eab0063172bbaa64a7a5a9c6c8741}{dev\_info}}() \textcolor{keyword}{const};}
\DoxyCodeLine{82 \};}
\DoxyCodeLine{83 }
\DoxyCodeLine{85 \textcolor{keyword}{class }\mbox{\hyperlink{classudmaio_1_1_uio_config_base}{UioConfigBase}} \{}
\DoxyCodeLine{86   \textcolor{keyword}{public}:}
\DoxyCodeLine{89     \textcolor{keyword}{virtual} std::string \mbox{\hyperlink{classudmaio_1_1_uio_config_base_ad96712dac51d4dc4a8ac4780b2de6a8e}{dev\_path}}() \{ \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}"{}}; \};}
\DoxyCodeLine{90 }
\DoxyCodeLine{93     \textcolor{keyword}{virtual} \mbox{\hyperlink{namespaceudmaio_a6b5d6a27d182272b899d28e1a7080cec}{DmaMode}} \mbox{\hyperlink{classudmaio_1_1_uio_config_base_a3662b6e5c9c2f391a9f02a54105d17d4}{mode}}() = 0;}
\DoxyCodeLine{94 }
\DoxyCodeLine{98     \textcolor{keyword}{virtual} \mbox{\hyperlink{structudmaio_1_1_uio_device_info}{UioDeviceInfo}} \mbox{\hyperlink{classudmaio_1_1_uio_config_base_abb84f646e4e513ed22614056850a12ad}{operator()}}(\mbox{\hyperlink{classudmaio_1_1_uio_device_location}{UioDeviceLocation}} dev\_loc) = 0;}
\DoxyCodeLine{99 \};}
\DoxyCodeLine{100 }
\DoxyCodeLine{102 \textcolor{keyword}{class }\mbox{\hyperlink{classudmaio_1_1_uio_config_uio}{UioConfigUio}} : \textcolor{keyword}{public} \mbox{\hyperlink{classudmaio_1_1_uio_config_base}{UioConfigBase}} \{}
\DoxyCodeLine{103     \textcolor{keyword}{static} \textcolor{keywordtype}{int} \mbox{\hyperlink{classudmaio_1_1_uio_config_uio_a7c954f5648778cd3e19c8b851aa0d9e5}{\_get\_uio\_number}}(std::string\_view name);}
\DoxyCodeLine{104     \textcolor{keyword}{static} \mbox{\hyperlink{structudmaio_1_1_uio_region}{UioRegion}} \mbox{\hyperlink{classudmaio_1_1_uio_config_uio_af47f2a3ecc5ebfb8a6130a01dd279f2a}{\_get\_map\_region}}(\textcolor{keywordtype}{int} uio\_number, \textcolor{keywordtype}{int} map\_index);}
\DoxyCodeLine{105 }
\DoxyCodeLine{106   \textcolor{keyword}{public}:}
\DoxyCodeLine{110     \mbox{\hyperlink{structudmaio_1_1_uio_device_info}{UioDeviceInfo}} \mbox{\hyperlink{classudmaio_1_1_uio_config_uio_a5e713ecbd68672ecb35e589ab260d06a}{operator()}}(std::string dev\_name);}
\DoxyCodeLine{111     \mbox{\hyperlink{structudmaio_1_1_uio_device_info}{UioDeviceInfo}} \mbox{\hyperlink{classudmaio_1_1_uio_config_uio_a5e713ecbd68672ecb35e589ab260d06a}{operator()}}(\mbox{\hyperlink{classudmaio_1_1_uio_device_location}{UioDeviceLocation}} dev\_loc) \textcolor{keyword}{override};}
\DoxyCodeLine{112     \mbox{\hyperlink{namespaceudmaio_a6b5d6a27d182272b899d28e1a7080cec}{DmaMode}} \mbox{\hyperlink{classudmaio_1_1_uio_config_uio_ad07df0538d849b8ea02c67ee7e1b3575}{mode}}()\textcolor{keyword}{ override }\{ \textcolor{keywordflow}{return} \mbox{\hyperlink{namespaceudmaio_a6b5d6a27d182272b899d28e1a7080ceca910a3bb55574645cc3d46b715f097eb0}{DmaMode::UIO}}; \};}
\DoxyCodeLine{113 \};}
\DoxyCodeLine{114 }
\DoxyCodeLine{116 \textcolor{keyword}{class }\mbox{\hyperlink{classudmaio_1_1_uio_config_xdma}{UioConfigXdma}} : \textcolor{keyword}{public} \mbox{\hyperlink{classudmaio_1_1_uio_config_base}{UioConfigBase}} \{}
\DoxyCodeLine{117     std::string \mbox{\hyperlink{classudmaio_1_1_uio_config_xdma_a36bed740a1bf141c196f9716b5379a57}{\_xdma\_path}};}
\DoxyCodeLine{118     uintptr\_t \mbox{\hyperlink{classudmaio_1_1_uio_config_xdma_a5198fbe1e91b423d6334d1788d60be7c}{\_pcie\_offs}};}
\DoxyCodeLine{119     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classudmaio_1_1_uio_config_xdma_a9245d0f20199649ddb5d01f236fc5085}{\_x7\_series\_mode}};}
\DoxyCodeLine{120 }
\DoxyCodeLine{121   \textcolor{keyword}{public}:}
\DoxyCodeLine{122     \mbox{\hyperlink{classudmaio_1_1_uio_config_xdma_ae57292575248142f2e15b0872c782953}{UioConfigXdma}}() = \textcolor{keyword}{delete};}
\DoxyCodeLine{123 }
\DoxyCodeLine{127     \mbox{\hyperlink{classudmaio_1_1_uio_config_xdma_ae57292575248142f2e15b0872c782953}{UioConfigXdma}}(std::string xdma\_path, uintptr\_t pcie\_offs, \textcolor{keywordtype}{bool} x7\_series\_mode = \textcolor{keyword}{false});}
\DoxyCodeLine{128 }
\DoxyCodeLine{133     \mbox{\hyperlink{structudmaio_1_1_uio_device_info}{UioDeviceInfo}} \mbox{\hyperlink{classudmaio_1_1_uio_config_xdma_a0db17013b646dbe71a69cc4dc6fec1db}{operator()}}(\mbox{\hyperlink{structudmaio_1_1_uio_region}{UioRegion}} dev\_region, std::string evt\_dev = \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{134     \mbox{\hyperlink{structudmaio_1_1_uio_device_info}{UioDeviceInfo}} \mbox{\hyperlink{classudmaio_1_1_uio_config_xdma_a0db17013b646dbe71a69cc4dc6fec1db}{operator()}}(\mbox{\hyperlink{classudmaio_1_1_uio_device_location}{UioDeviceLocation}} dev\_loc) \textcolor{keyword}{override};}
\DoxyCodeLine{135     std::string \mbox{\hyperlink{classudmaio_1_1_uio_config_xdma_a45640a91e84015734b8d02af66a8abce}{dev\_path}}()\textcolor{keyword}{ override }\{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classudmaio_1_1_uio_config_xdma_a36bed740a1bf141c196f9716b5379a57}{\_xdma\_path}}; \};}
\DoxyCodeLine{136     \mbox{\hyperlink{namespaceudmaio_a6b5d6a27d182272b899d28e1a7080cec}{DmaMode}} \mbox{\hyperlink{classudmaio_1_1_uio_config_xdma_a8e91341dbfe554dc57e6509e62f3ce35}{mode}}()\textcolor{keyword}{ override }\{ \textcolor{keywordflow}{return} \mbox{\hyperlink{namespaceudmaio_a6b5d6a27d182272b899d28e1a7080cecaf3dac949aa62d490afa1ac577a5fc028}{DmaMode::XDMA}}; \};}
\DoxyCodeLine{137 \};}
\DoxyCodeLine{138 }
\DoxyCodeLine{139 \}  \textcolor{comment}{// namespace udmaio}}

\end{DoxyCode}
